{"version":3,"file":"index.js","sources":["../src/index.js"],"sourcesContent":["import React, { useRef, useState, useEffect, useCallback } from \"react\";\nimport videojs from \"video.js\";\nimport \"video.js/dist/video-js.css\";\n\nexport const useVideoJS = (videoJsOptions) => {\n  const videoNode = useRef(null);\n  const [ready, setReady] = useState(false);\n  const changedKey = JSON.stringify(videoJsOptions);\n  const player = useRef(null);\n  useEffect(() => {\n    player.current = videojs(videoNode.current, videoJsOptions);\n    player.current.ready(() => {\n      setReady(true);\n    });\n    return () => {\n      player.current.dispose();\n    };\n  }, [changedKey]);\n\n  const Video = useCallback(\n    () => (\n      <div data-vjs-player key={changedKey}>\n        <video ref={videoNode} className=\"video-js\" />\n      </div>\n    ),\n    [changedKey]\n  );\n  return { Video, ready, player: player.current };\n};\n"],"names":["useVideoJS","videoJsOptions","videoNode","useRef","useState","ready","setReady","changedKey","JSON","stringify","player","useEffect","current","videojs","dispose","Video","useCallback","React"],"mappings":";;;;;;;IAIaA,UAAU,GAAG,SAAbA,UAAa,CAACC,cAAD,EAAoB;AAC5C,MAAMC,SAAS,GAAGC,YAAM,CAAC,IAAD,CAAxB;;AAD4C,kBAElBC,cAAQ,CAAC,KAAD,CAFU;AAAA,MAErCC,KAFqC;AAAA,MAE9BC,QAF8B;;AAG5C,MAAMC,UAAU,GAAGC,IAAI,CAACC,SAAL,CAAeR,cAAf,CAAnB;AACA,MAAMS,MAAM,GAAGP,YAAM,CAAC,IAAD,CAArB;AACAQ,EAAAA,eAAS,CAAC,YAAM;AACdD,IAAAA,MAAM,CAACE,OAAP,GAAiBC,OAAO,CAACX,SAAS,CAACU,OAAX,EAAoBX,cAApB,CAAxB;AACAS,IAAAA,MAAM,CAACE,OAAP,CAAeP,KAAf,CAAqB,YAAM;AACzBC,MAAAA,QAAQ,CAAC,IAAD,CAAR;AACD,KAFD;AAGA,WAAO,YAAM;AACXI,MAAAA,MAAM,CAACE,OAAP,CAAeE,OAAf;AACD,KAFD;AAGD,GARQ,EAQN,CAACP,UAAD,CARM,CAAT;AAUA,MAAMQ,KAAK,GAAGC,iBAAW,CACvB;AAAA,wBACEC;AAAK,6BAAL;AAAqB,MAAA,GAAG,EAAEV;AAA1B,oBACEU;AAAO,MAAA,GAAG,EAAEf,SAAZ;AAAuB,MAAA,SAAS,EAAC;AAAjC,MADF,CADF;AAAA,GADuB,EAMvB,CAACK,UAAD,CANuB,CAAzB;AAQA,SAAO;AAAEQ,IAAAA,KAAK,EAALA,KAAF;AAASV,IAAAA,KAAK,EAALA,KAAT;AAAgBK,IAAAA,MAAM,EAAEA,MAAM,CAACE;AAA/B,GAAP;AACD;;;;"}