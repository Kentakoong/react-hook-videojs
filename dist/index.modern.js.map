{"version":3,"file":"index.modern.js","sources":["../src/index.jsx"],"sourcesContent":["import React, { useRef, useState, useEffect, useCallback } from \"react\";\nimport videojs from \"video.js\";\nimport \"video.js/dist/video-js.css\";\n\nexport const useVideoJS = (videoJsOptions) => {\n  const videoNode = useRef(null);\n  const [ready, setReady] = useState(false);\n  const changedKey = JSON.stringify(videoJsOptions);\n  const player = useRef(null);\n  useEffect(() => {\n    player.current = videojs(videoNode.current, videoJsOptions);\n    player.current.ready(() => {\n      setReady(true);\n    });\n    return () => {\n      player.current.dispose();\n    };\n  }, [changedKey]);\n\n  const Video = useCallback(\n    () => (\n      <div data-vjs-player key={changedKey}>\n        <video ref={videoNode} className=\"video-js\" />\n      </div>\n    ),\n    [changedKey]\n  );\n  return { Video, ready, player: player.current };\n};\n"],"names":["useVideoJS","videoJsOptions","videoNode","useRef","ready","setReady","useState","changedKey","JSON","stringify","player","useEffect","current","videojs","dispose","Video","useCallback"],"mappings":";;;;MAIaA,UAAU,GAAIC,cAAD,IAAoB;AAC5C,QAAMC,SAAS,GAAGC,MAAM,CAAC,IAAD,CAAxB;AACA,QAAM,CAACC,KAAD,EAAQC,QAAR,IAAoBC,QAAQ,CAAC,KAAD,CAAlC;AACA,QAAMC,UAAU,GAAGC,IAAI,CAACC,SAAL,CAAeR,cAAf,CAAnB;AACA,QAAMS,MAAM,GAAGP,MAAM,CAAC,IAAD,CAArB;AACAQ,EAAAA,SAAS,CAAC,MAAM;AACdD,IAAAA,MAAM,CAACE,OAAP,GAAiBC,OAAO,CAACX,SAAS,CAACU,OAAX,EAAoBX,cAApB,CAAxB;AACAS,IAAAA,MAAM,CAACE,OAAP,CAAeR,KAAf,CAAqB,MAAM;AACzBC,MAAAA,QAAQ,CAAC,IAAD,CAAR;AACD,KAFD;AAGA,WAAO,MAAM;AACXK,MAAAA,MAAM,CAACE,OAAP,CAAeE,OAAf;AACD,KAFD;AAGD,GARQ,EAQN,CAACP,UAAD,CARM,CAAT;AAUA,QAAMQ,KAAK,GAAGC,WAAW,CACvB,mBACE;AAAK,2BAAL;AAAqB,IAAA,GAAG,EAAET;AAA1B,kBACE;AAAO,IAAA,GAAG,EAAEL,SAAZ;AAAuB,IAAA,SAAS,EAAC;AAAjC,IADF,CAFqB,EAMvB,CAACK,UAAD,CANuB,CAAzB;AAQA,SAAO;AAAEQ,IAAAA,KAAF;AAASX,IAAAA,KAAT;AAAgBM,IAAAA,MAAM,EAAEA,MAAM,CAACE;AAA/B,GAAP;AACD;;;;"}